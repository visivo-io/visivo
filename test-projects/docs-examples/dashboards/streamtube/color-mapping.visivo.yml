models:
  - name: streamtube-data-color
    args:
      - echo
      - |
        x,y,z,u,v,w,magnitude
        0,0,0,1,0,0,1
        1,0,0,0,1,0,2
        1,1,0,0,0,1,3
        0,1,1,-1,0,0,4
traces:
  - name: Streamtube Plot with Color Mapping
    model: ${ref(streamtube-data-color)}
    props:
      type: streamtube
      x: ?{x}
      y: ?{y}
      z: ?{z}
      u: ?{u}
      v: ?{v}
      w: ?{w}
      colorscale: "Viridis"
      lighting: 
        fresnel: 3
charts:
  - name: Streamtube Chart with Color Mapping
    traces:
      - ${ref(Streamtube Plot with Color Mapping)}
    layout:
      title:
        text: Streamtube Plot with Color Mapping<br><sub>Vector Magnitude Represented by Color</sub> 